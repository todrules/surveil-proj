<ion-content class="login-bg" fxLayout="row" fxLayoutAlign="center center">
  <div
    class="login-col"
    fxLayout="column"
    fxLayoutAlign="start center">
    <img src="/assets/img/surv-logo.png" class="image-style">
    <h1 class="login-title" >Login</h1>
    
  <ion-card class="login-card">
    
    <ion-card-header>
      <ion-card-title>Please sign in...</ion-card-title>
    </ion-card-header>
    
    <ion-card-content>
      <div
        *ngIf="(email.dirty || email.touched) && email.invalid"
        class="form-error">
        <div
          *ngIf="email.errors.required"
          class="form-error">
          Email is required.
        </div>
        <div
          *ngIf="email.errors.minlength"
          class="form-error">
          Email must be a minimum of 5 characters.
        </div>
      </div>
      <div
        *ngIf="(password.dirty || password.touched) && password.invalid">
        <div
          *ngIf="password.errors.required"
          class="form-error">
          Password is required.
        </div>
        <div
          *ngIf="password.errors.minlength"
          class="form-error">
          Password must be a minimum of 6 characters.
        </div>
      </div>
      
      <form #loginForm="ngForm" autocomplete="off">
        
        <ion-list>
        
          <ion-item>
            <ion-label floating>Email</ion-label>
            <ion-input
              color="primary"
              type="email"
              #email="ngModel"
              name="email"
              [(ngModel)]="credentials.email"
              autocomplete="new-password"
              required
              minlength="5">
            </ion-input>
            
          </ion-item>
          <ion-item>
            <ion-label floating>Password</ion-label>
            <ion-input
              color="primary"
              type="password"
              #password="ngModel"
              name="password"
              [(ngModel)]="credentials.password"
              autocomplete="new-password"
              required
              minLength="6">
            </ion-input>
            
          </ion-item>

          <div padding>
            <button
              ion-button
              color="success"
              (click)="doLogin()"
              [disabled]="loginForm.invalid"
              block>
              Login
            </button>
          </div>

        </ion-list>
      </form>
      
    </ion-card-content>
    
    <div class="login-footer">
      <p>
        New user? Please <span (click)="gotoSignup(e)"
                                class="login-footer-link">Signup</span> first.
      </p>
    </div>
    
  </ion-card>
  
  </div>
</ion-content>
